// Translation data
const translations = {
    en: {
        // Navigation
        'nav-home': 'Home',
        'nav-about': 'About',
        'nav-contact': 'Contact',
        'lang-en': 'EN',
        'lang-pt': 'PT',
        
        // Projects
        'projects-title': 'Projects',
        'projects-subtitle': 'Selected work and case studies',
        
        // Project titles
        'project-1-title': 'E-commerce Redesign',
        'project-2-title': 'Mobile Banking App',
        'project-3-title': 'Healthcare Dashboard',
        'project-4-title': 'Travel Booking Platform',
        'project-5-title': 'Educational Platform',
        
        // Project descriptions
        'project-1-description': 'Complete redesign of an e-commerce platform focusing on user experience and conversion optimization.',
        'project-2-description': 'Design of a modern mobile banking application with focus on security and ease of use.',
        'project-3-description': 'Comprehensive dashboard for healthcare professionals to manage patient data and analytics.',
        'project-4-description': 'End-to-end design of a travel booking platform with advanced search and booking features.',
        'project-5-description': 'Design system and user interface for an online learning platform with interactive features.',
        
        // Tags
        'tag-ux': 'UX Design',
        'tag-ui': 'UI Design',
        'tag-research': 'Research',
        'tag-mobile': 'Mobile',
        'tag-fintech': 'Fintech',
        'tag-prototyping': 'Prototyping',
        'tag-dashboard': 'Dashboard',
        'tag-healthcare': 'Healthcare',
        'tag-analytics': 'Analytics',
        'tag-travel': 'Travel',
        'tag-booking': 'Booking',
        'tag-responsive': 'Responsive',
        'tag-education': 'Education',
        'tag-design-system': 'Design System',
        'tag-interactive': 'Interactive',
        
        // Roles
        'role-lead': 'Lead Designer',
        'role-senior': 'Senior Designer',
        'role-ux': 'UX Designer',
        
        // Project details
        'project-1-text': 'A comprehensive redesign of an established e-commerce platform, focusing on improving user experience, increasing conversion rates, and modernizing the visual design. The project involved extensive user research, competitive analysis, and iterative design processes.',
        'project-2-text': 'Design of a modern mobile banking application that prioritizes security, ease of use, and accessibility. The app features advanced security measures, intuitive navigation, and comprehensive financial management tools.',
        'project-3-text': 'A comprehensive dashboard designed for healthcare professionals to efficiently manage patient data, track analytics, and streamline clinical workflows. The interface prioritizes data clarity and quick access to critical information.',
        'project-4-text': 'End-to-end design of a modern travel booking platform that simplifies the process of finding and booking flights, hotels, and activities. The platform features advanced search capabilities and personalized recommendations.',
        'project-5-text': 'Design system and user interface for a comprehensive online learning platform that supports various educational formats including video courses, interactive quizzes, and collaborative learning features.',
        
        // Detail sections
        'detail-challenges': 'Challenges',
        'detail-solution': 'Solution',
        'detail-outcomes': 'Outcomes',
        'tools-used': 'Tools Used',
        
        // Project 1 details
        'project-1-challenge-1': 'Complex legacy system with limited technical flexibility',
        'project-1-challenge-2': 'Diverse user base with varying technical expertise',
        'project-1-challenge-3': 'High competition in the e-commerce space',
        'project-1-solution-1': 'Simplified navigation and checkout process',
        'project-1-solution-2': 'Responsive design optimized for all devices',
        'project-1-solution-3': 'Enhanced product discovery and filtering',
        'project-1-outcome-1': '25% increase in conversion rate',
        'project-1-outcome-2': '40% reduction in cart abandonment',
        'project-1-outcome-3': 'Improved user satisfaction scores',
        
        // Project 2 details
        'project-2-challenge-1': 'Balancing security with user experience',
        'project-2-challenge-2': 'Complex financial data visualization',
        'project-2-challenge-3': 'Regulatory compliance requirements',
        'project-2-solution-1': 'Biometric authentication integration',
        'project-2-solution-2': 'Clear data visualization and charts',
        'project-2-solution-3': 'Accessible design patterns',
        'project-2-outcome-1': '4.8/5 app store rating',
        'project-2-outcome-2': '95% user retention rate',
        'project-2-outcome-3': 'Reduced support tickets by 30%',
        
        // Project 3 details
        'project-3-challenge-1': 'Complex medical data presentation',
        'project-3-challenge-2': 'Time-sensitive information access',
        'project-3-challenge-3': 'Integration with existing systems',
        'project-3-solution-1': 'Customizable dashboard widgets',
        'project-3-solution-2': 'Real-time data visualization',
        'project-3-solution-3': 'Role-based access control',
        'project-3-outcome-1': '50% faster data access',
        'project-3-outcome-2': 'Reduced medical errors',
        'project-3-outcome-3': 'Improved staff efficiency',
        
        // Project 4 details
        'project-4-challenge-1': 'Complex booking workflows',
        'project-4-challenge-2': 'Multiple service integrations',
        'project-4-challenge-3': 'Mobile-first responsive design',
        'project-4-solution-1': 'Streamlined booking process',
        'project-4-solution-2': 'Unified design system',
        'project-4-solution-3': 'Progressive web app features',
        'project-4-outcome-1': '35% increase in bookings',
        'project-4-outcome-2': 'Improved mobile conversion',
        'project-4-outcome-3': 'Enhanced user satisfaction',
        
        // Project 5 details
        'project-5-challenge-1': 'Diverse learning styles and needs',
        'project-5-challenge-2': 'Scalable design system',
        'project-5-challenge-3': 'Engagement and retention',
        'project-5-solution-1': 'Modular design system',
        'project-5-solution-2': 'Interactive learning elements',
        'project-5-solution-3': 'Progress tracking features',
        'project-5-outcome-1': '80% course completion rate',
        'project-5-outcome-2': 'Reduced design development time',
        'project-5-outcome-3': 'Consistent user experience'
    },
    pt: {
        // Navigation
        'nav-home': 'Início',
        'nav-about': 'Sobre',
        'nav-contact': 'Contato',
        'lang-en': 'EN',
        'lang-pt': 'PT',
        
        // Projects
        'projects-title': 'Projetos',
        'projects-subtitle': 'Trabalhos selecionados e estudos de caso',
        
        // Project titles
        'project-1-title': 'Redesign E-commerce',
        'project-2-title': 'App Bancário Mobile',
        'project-3-title': 'Dashboard de Saúde',
        'project-4-title': 'Plataforma de Viagens',
        'project-5-title': 'Plataforma Educacional',
        
        // Project descriptions
        'project-1-description': 'Redesign completo de uma plataforma e-commerce focando em experiência do usuário e otimização de conversão.',
        'project-2-description': 'Design de um aplicativo bancário moderno com foco em segurança e facilidade de uso.',
        'project-3-description': 'Dashboard abrangente para profissionais de saúde gerenciarem dados de pacientes e análises.',
        'project-4-description': 'Design completo de uma plataforma de reservas de viagem com recursos avançados de busca e reserva.',
        'project-5-description': 'Sistema de design e interface para uma plataforma de aprendizado online com recursos interativos.',
        
        // Tags
        'tag-ux': 'UX Design',
        'tag-ui': 'UI Design',
        'tag-research': 'Pesquisa',
        'tag-mobile': 'Mobile',
        'tag-fintech': 'Fintech',
        'tag-prototyping': 'Prototipagem',
        'tag-dashboard': 'Dashboard',
        'tag-healthcare': 'Saúde',
        'tag-analytics': 'Analytics',
        'tag-travel': 'Viagem',
        'tag-booking': 'Reserva',
        'tag-responsive': 'Responsivo',
        'tag-education': 'Educação',
        'tag-design-system': 'Design System',
        'tag-interactive': 'Interativo',
        
        // Roles
        'role-lead': 'Designer Líder',
        'role-senior': 'Designer Sênior',
        'role-ux': 'UX Designer',
        
        // Project details
        'project-1-text': 'Um redesign abrangente de uma plataforma e-commerce estabelecida, focando na melhoria da experiência do usuário, aumento das taxas de conversão e modernização do design visual. O projeto envolveu extensa pesquisa de usuários, análise competitiva e processos de design iterativos.',
        'project-2-text': 'Design de um aplicativo bancário mobile moderno que prioriza segurança, facilidade de uso e acessibilidade. O app apresenta medidas de segurança avançadas, navegação intuitiva e ferramentas abrangentes de gestão financeira.',
        'project-3-text': 'Um dashboard abrangente projetado para profissionais de saúde gerenciarem eficientemente dados de pacientes, rastrear análises e otimizar fluxos de trabalho clínicos. A interface prioriza clareza de dados e acesso rápido a informações críticas.',
        'project-4-text': 'Design completo de uma plataforma moderna de reservas de viagem que simplifica o processo de encontrar e reservar voos, hotéis e atividades. A plataforma apresenta recursos avançados de busca e recomendações personalizadas.',
        'project-5-text': 'Sistema de design e interface para uma plataforma abrangente de aprendizado online que suporta vários formatos educacionais incluindo cursos em vídeo, questionários interativos e recursos de aprendizado colaborativo.',
        
        // Detail sections
        'detail-challenges': 'Desafios',
        'detail-solution': 'Solução',
        'detail-outcomes': 'Resultados',
        'tools-used': 'Ferramentas Utilizadas',
        
        // Project 1 details
        'project-1-challenge-1': 'Sistema legado complexo com flexibilidade técnica limitada',
        'project-1-challenge-2': 'Base de usuários diversa com expertise técnica variada',
        'project-1-challenge-3': 'Alta competição no espaço e-commerce',
        'project-1-solution-1': 'Processo de navegação e checkout simplificado',
        'project-1-solution-2': 'Design responsivo otimizado para todos os dispositivos',
        'project-1-solution-3': 'Descoberta e filtragem de produtos aprimoradas',
        'project-1-outcome-1': '25% de aumento na taxa de conversão',
        'project-1-outcome-2': '40% de redução no abandono de carrinho',
        'project-1-outcome-3': 'Melhorias nos scores de satisfação do usuário',
        
        // Project 2 details
        'project-2-challenge-1': 'Equilibrar segurança com experiência do usuário',
        'project-2-challenge-2': 'Visualização complexa de dados financeiros',
        'project-2-challenge-3': 'Requisitos de conformidade regulatória',
        'project-2-solution-1': 'Integração de autenticação biométrica',
        'project-2-solution-2': 'Visualização clara de dados e gráficos',
        'project-2-solution-3': 'Padrões de design acessíveis',
        'project-2-outcome-1': 'Avaliação 4.8/5 na app store',
        'project-2-outcome-2': '95% de taxa de retenção de usuários',
        'project-2-outcome-3': 'Redução de 30% nos tickets de suporte',
        
        // Project 3 details
        'project-3-challenge-1': 'Apresentação complexa de dados médicos',
        'project-3-challenge-2': 'Acesso a informações sensíveis ao tempo',
        'project-3-challenge-3': 'Integração com sistemas existentes',
        'project-3-solution-1': 'Widgets de dashboard personalizáveis',
        'project-3-solution-2': 'Visualização de dados em tempo real',
        'project-3-solution-3': 'Controle de acesso baseado em função',
        'project-3-outcome-1': '50% de acesso mais rápido aos dados',
        'project-3-outcome-2': 'Redução de erros médicos',
        'project-3-outcome-3': 'Melhoria na eficiência da equipe',
        
        // Project 4 details
        'project-4-challenge-1': 'Fluxos de trabalho de reserva complexos',
        'project-4-challenge-2': 'Múltiplas integrações de serviços',
        'project-4-challenge-3': 'Design responsivo mobile-first',
        'project-4-solution-1': 'Processo de reserva simplificado',
        'project-4-solution-2': 'Sistema de design unificado',
        'project-4-solution-3': 'Recursos de progressive web app',
        'project-4-outcome-1': '35% de aumento nas reservas',
        'project-4-outcome-2': 'Melhoria na conversão mobile',
        'project-4-outcome-3': 'Satisfação do usuário aprimorada',
        
        // Project 5 details
        'project-5-challenge-1': 'Estilos e necessidades de aprendizado diversos',
        'project-5-challenge-2': 'Sistema de design escalável',
        'project-5-challenge-3': 'Engajamento e retenção',
        'project-5-solution-1': 'Sistema de design modular',
        'project-5-solution-2': 'Elementos de aprendizado interativos',
        'project-5-solution-3': 'Recursos de rastreamento de progresso',
        'project-5-outcome-1': '80% de taxa de conclusão de cursos',
        'project-5-outcome-2': 'Redução no tempo de desenvolvimento de design',
        'project-5-outcome-3': 'Experiência do usuário consistente'
    }
};

// Current language
let currentLanguage = 'en';

// DOM Elements
const projectCards = document.querySelectorAll('.project-card');
const projectImages = document.querySelectorAll('.project-image');
const projectDescriptions = document.querySelectorAll('.project-description');
const languageToggle = document.getElementById('language-toggle');
const themeToggle = document.getElementById('theme-toggle');
const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
const navMenu = document.querySelector('.nav-menu');

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
    initializeTheme();
    initializeLanguage();
    initializeProjectSwitching();
    initializeMobileMenu();
    
    // Set first project as active by default
    switchProject('project-1');
});

// Theme switching functionality
function initializeTheme() {
    // Check for saved theme preference or default to light mode
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.body.className = `${savedTheme}-mode`;

    // Set initial state of theme toggle button
    if (themeToggle) {
        if (savedTheme === 'dark') {
            themeToggle.classList.add('active');
        } else {
            themeToggle.classList.remove('active');
        }
    }
}

// Language switching functionality
function initializeLanguage() {
    // Check for saved language preference or default to English
    const savedLanguage = localStorage.getItem('language') || 'en';
    currentLanguage = savedLanguage;
    updateLanguage();
    
    // Set initial state of language toggle
    if (languageToggle) {
        const enSpan = languageToggle.querySelector('[data-lang="lang-en"]');
        const ptSpan = languageToggle.querySelector('[data-lang="lang-pt"]');
        
        if (currentLanguage === 'pt') {
            enSpan.style.display = 'none';
            ptSpan.style.display = 'inline';
        } else {
            enSpan.style.display = 'inline';
            ptSpan.style.display = 'none';
        }
    }
}

// Project switching functionality
function initializeProjectSwitching() {
    projectCards.forEach(card => {
        card.addEventListener('click', function() {
            const projectId = this.getAttribute('data-project');
            switchProject(projectId);
        });
    });
}

// Switch to a specific project
function switchProject(projectId) {
    // Remove active class from all project cards
    projectCards.forEach(card => {
        card.classList.remove('active');
    });
    
    // Remove active class from all project images
    projectImages.forEach(image => {
        image.classList.remove('active');
    });
    
    // Remove active class from all project descriptions
    projectDescriptions.forEach(description => {
        description.classList.remove('active');
    });
    
    // Add active class to selected project card
    const selectedCard = document.querySelector(`[data-project="${projectId}"]`);
    if (selectedCard) {
        selectedCard.classList.add('active');
    }
    
    // Add active class to selected project image
    const selectedImage = document.getElementById(`${projectId}-image`);
    if (selectedImage) {
        selectedImage.classList.add('active');
    }
    
    // Add active class to selected project description
    const selectedDescription = document.getElementById(`${projectId}-description`);
    if (selectedDescription) {
        selectedDescription.classList.add('active');
    }
}

// Mobile menu functionality
function initializeMobileMenu() {
    if (mobileMenuToggle && navMenu) {
        mobileMenuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
            this.classList.toggle('active');
        });
    }
}

// Update all text content based on current language
function updateLanguage() {
    const elements = document.querySelectorAll('[data-lang]');
    elements.forEach(element => {
        const key = element.getAttribute('data-lang');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
        }
    });
}

// Event Listeners
if (languageToggle) {
    languageToggle.addEventListener('click', function() {
        currentLanguage = currentLanguage === 'en' ? 'pt' : 'en';
        localStorage.setItem('language', currentLanguage);
        updateLanguage();
        
        // Update language toggle display
        const enSpan = this.querySelector('[data-lang="lang-en"]');
        const ptSpan = this.querySelector('[data-lang="lang-pt"]');
        
        if (currentLanguage === 'pt') {
            enSpan.style.display = 'none';
            ptSpan.style.display = 'inline';
        } else {
            enSpan.style.display = 'inline';
            ptSpan.style.display = 'none';
        }
    });
}

if (themeToggle) {
    themeToggle.addEventListener('click', function() {
        const currentTheme = document.body.classList.contains('dark-mode') ? 'dark' : 'light';
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        document.body.className = `${newTheme}-mode`;
        localStorage.setItem('theme', newTheme);
        
        this.classList.toggle('active');
    });
}

// Navigation link functionality
document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', function(e) {
        // Remove active class from all nav links
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        
        // Add active class to clicked link
        this.classList.add('active');
        
        // Close mobile menu if open
        if (navMenu && navMenu.classList.contains('active')) {
            navMenu.classList.remove('active');
            mobileMenuToggle.classList.remove('active');
        }
    });
});

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Keyboard navigation support
document.addEventListener('keydown', function(e) {
    // Escape key to close mobile menu
    if (e.key === 'Escape') {
        if (navMenu && navMenu.classList.contains('active')) {
            navMenu.classList.remove('active');
            mobileMenuToggle.classList.remove('active');
        }
    }
    
    // Arrow keys for project navigation
    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
        e.preventDefault();
        const activeCard = document.querySelector('.project-card.active');
        if (activeCard) {
            const currentIndex = Array.from(projectCards).indexOf(activeCard);
            let newIndex;
            
            if (e.key === 'ArrowUp') {
                newIndex = currentIndex > 0 ? currentIndex - 1 : projectCards.length - 1;
            } else {
                newIndex = currentIndex < projectCards.length - 1 ? currentIndex + 1 : 0;
            }
            
            const projectId = projectCards[newIndex].getAttribute('data-project');
            switchProject(projectId);
            
            // Scroll to the new active card
            projectCards[newIndex].scrollIntoView({
                behavior: 'smooth',
                block: 'nearest'
            });
        }
    }
});

// Intersection Observer for fade-in animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe elements for animation
document.querySelectorAll('.project-card, .project-description').forEach(el => {
    el.style.opacity = '0';
    el.style.transform = 'translateY(20px)';
    el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
    observer.observe(el);
});

// Handle window resize
window.addEventListener('resize', function() {
    // Close mobile menu on resize if screen becomes larger
    if (window.innerWidth > 768 && navMenu && navMenu.classList.contains('active')) {
        navMenu.classList.remove('active');
        mobileMenuToggle.classList.remove('active');
    }
});

// Handle visibility change (when user switches tabs)
document.addEventListener('visibilitychange', function() {
    if (document.hidden) {
        // Pause any animations or timers when tab is not visible
    } else {
        // Resume animations when tab becomes visible again
    }
});
